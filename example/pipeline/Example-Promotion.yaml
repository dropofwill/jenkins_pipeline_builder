- promotion_process:
  name: '01. Stage Promotion'
  description: 'Describe the promotion process in play'
  job_type: promotion
  block_when_downstream_building: false # unless defined? false
  block_when_upstream_building: false # unless defined? false
  icon: 'Gold star' # || 'Silver star'
  conditions: # follow parameters
    - type: manual
      users: 'authorized' # || ''
    - type: self_promotion
      even_if_unstable: true # unless defined? false
    - type: parameterized_self_promotion
      parameter_name: 'SOME_ENV_VAR'
      parameter_value: true
      even_if_unstable: true # unless defined? false
    - type: downstream_pass
      jobs: '{{Example}}-Commit'
      even_if_unstable: true # unless defined? false
    - type: upstream_promotion
      promotion_name: '01. Staging Promotion'
  build_steps: # follow builders
    - triggered_job:
        name: '{{name}}-Release' # maps to <projects>
        block_condition: # included in xml only if checked on UI
          build_step_failure_threshold: failure # 'FAILURE' # %s(never FAILURE UNSTABLE SUCCESS)
          failure_threshold: failure # || # %s(never FAILURE UNSTABLE SUCCESS)
          unstable_threshold: unstable # || # %s(never FAILURE UNSTABLE SUCCESS)
    - keep_builds_forever:
        value: true
